---
repos:
  - repo: local
    hooks:
      - id: run-checks
        name: Run Checks
        description: Ensure that all checks pass before committing
        language: system
        always_run: true
        pass_filenames: false
        entry: uv run invoke check

  - repo: local
    hooks:
      - id: run-tests
        name: Run Unit Tests
        description: Check unit test success/coverage (but allow commits with failures)
        language: system
        always_run: true
        pass_filenames: false
        entry: uv run invoke test --allow-failure

  - repo: https://github.com/astral-sh/uv-pre-commit
    rev: 0.7.18  # uv version
    hooks:
      - id: uv-lock
        description: Ensure uv's lock file matches deps in pyproject.toml
